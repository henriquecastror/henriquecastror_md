# Packages
library(dplyr)
library(lmtest)
library(sandwich)
library(readxl)
library(ggplot2)
# Clear
rm(list = ls())
# Data
data  <- read_excel("slides4-data-RDD.xlsx", sheet = "linear")
# Generate a line graph - one
ggplot(data, aes(x, y))  +
geom_point( size=1.25) +
labs(y = "", x="", title = "Evolution of Y - Control and Treatment groups")+
theme(plot.title = element_text(color="black", size=25, face="bold"),
panel.background = element_rect(fill = "grey95", colour = "grey95"),
axis.text.y = element_text(face="bold", color="black", size = 16),
axis.text.x = element_text(face="bold", color="black", size = 16),
legend.title = element_blank(),
legend.key.size = unit(2, "cm")) +
geom_smooth(method = "lm", fill = NA)
# Generate a line graph - two groups
ggplot(data, aes(x, y, group=group, color = factor(group)))  +
geom_point( size=1.25) +
labs(y = "", x="", title = "RDD example")+
theme(plot.title = element_text(color="black", size=25, face="bold"),
panel.background = element_rect(fill = "grey95", colour = "grey95"),
axis.text.y = element_text(face="bold", color="black", size = 16),
axis.text.x = element_text(face="bold", color="black", size = 16),
legend.title = element_blank(),
legend.key.size = unit(2, "cm")) +
geom_smooth(method = "lm", fill = NA)
# Generate a line graph - two groups
ggplot(data, aes(x, y, group=group, color = factor(group)))  +
geom_point( size=1.25) +
labs(y = "", x="", title = "RDD example")+
theme(plot.title = element_text(color="black", size=25, face="bold"),
panel.background = element_rect(fill = "grey95", colour = "grey95"),
axis.text.y = element_text(face="bold", color="black", size = 16),
axis.text.x = element_text(face="bold", color="black", size = 16),
legend.title = element_blank(),
legend.key.size = unit(2, "cm")) +
geom_smooth(method = "lm", fill = NA)
